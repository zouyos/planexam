<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <div th:replace="~{fragments/header :: header-css(title='Sessions')}"/>
</head>
<body>

<div th:replace="~{fragments/header :: menu(activeTab='sessions')}"/>

<main class="container">
  <h1 class="text-center">Liste des Sessions</h1>
  <a th:href="@{/admin/session/create}" class="btn btn-primary my-2">Ajouter une session</a>
  <table class="table table-striped">
    <thead>
    <tr>
      <th>Libellé</th>
      <th>Date début</th>
      <th>Date fin</th>
      <th></th>
      <th>Opérations</th>
    </tr>
    </thead>
    <tbody>
    <!-- "session" est reservé -->
    <tr th:each="sessionE5 : ${sessions}">
      <td th:text="${sessionE5.libelle}"></td>
      <td th:text="${sessionE5.dateDebut}"></td>
      <td th:text="${sessionE5.dateFin}"></td>
      <td><a th:href="@{/admin/session/show/{id} (id=${sessionE5.id})}" class="btn btn-success">Gérer les jours</a></td>
      <td>
        <a th:href="@{/admin/session/edit/{id} (id=${sessionE5.id})}" class="btn btn-primary">Modifier</a>
        <form th:action="@{/admin/session/delete/{id} (id=${sessionE5.id})}" method="post" style="display: inline">
          <button
            type="submit"
            class="btn btn-danger"
            th:data-confirm-delete="|Êtes-vous sûr de vouloir supprimer cette session : ${sessionE5.libelle}?|"
            onclick="return confirm(this.getAttribute('data-confirm-delete'))"
          >
            Supprimer
          </button>
        </form>
      </td>
    </tr>
    </tbody>
  </table>
</main>

<!-- /.container -->

<div th:replace="~{fragments/footer.html :: footer}"/>

</body>
</html>
